<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    <title>EATS</title>
    <link rel="stylesheet" href="css/custom.css">
  </head>

  <body>
    <video id="bg-video" autoplay loop>
      <source src="media/lights.mp4" type="video/mp4">
    </video>

    <div id="animation">
      <div id="pacman-top"></div>
      <div id="pacman-bottom"></div>
      <div id="eat"></div>
    </div>

    <div id="images">
      <div class="image" id="one">
        <img class="front" src="images/taiyaki.jpg">
        <div class="back" id="back1"><p>Taiyaki</p></div>
      </div>
      <div class="image" id="two">
        <img class="front" src="images/food.jpg">
        <div class="back" id="back2"><p>Fancy Japanese Food</p></div>
      </div>
      <div class="image" id="three">
        <img class="front" src="images/new-territories.jpg">
        <div class="back" id="back3"><p>New Territories</p></div>
      </div>
      <div class="image" id="four">
        <img class="front" src="images/paella.jpg">
        <div class="back" id="back4"><p>Paella</p></div>
      </div>
      <div class="image" id="five">
        <img class="front" src="images/boba.jpg">
        <div class="back" id="back5"><p>Boba Guys</p></div>
      </div>
      <div class="image" id="six">
        <img class="front" src="images/waffle.jpg">
        <div class="back" id="back6"><p>Petite Abeille</p></div>
      </div>
      <div class="image" id="seven">
        <img class="front" src="images/soft-swerve.jpg">
        <div class="back" id="back7"><p>Soft Swerve</p></div>
      </div>
      <div class="image" id="eight">
        <img class="front" src="images/kbbq.jpg">
        <div class="back" id="back8"><p>KBBQ</p></div>
      </div>
     
    </div>

    <audio autoplay loop>
      <source src="media/something-that-i-want2.mp3" type="audio/mpeg">
      Your browser does not support the audio element.
    </audio>


    <script src="js/jquery-3.2.1.min.js"></script>
    <script>

      var images = document.querySelectorAll('img');

      // set images to gray and hide captions
      function initialize() {
        for (var i = 0; i < images.length; i++) {
          images[i].classList.add('grayscale');
        }

        document.getElementById('back1').classList.add('hideCaption');
        document.getElementById('back2').classList.add('hideCaption');
        document.getElementById('back3').classList.add('hideCaption');
        document.getElementById('back4').classList.add('hideCaption');
        document.getElementById('back5').classList.add('hideCaption');
        document.getElementById('back6').classList.add('hideCaption');
        document.getElementById('back7').classList.add('hideCaption');
        document.getElementById('back8').classList.add('hideCaption');
        /*back1.addEventListener('click', function() {
            back1.classList.toggle('hideCaption');
          });*/
      }
      

      // toggle grayscale
      var color = function(index) {
        images[index].classList.toggle('grayscale');
      }


      window.addEventListener('load', initialize);


      // caption
      $('img').each(function(index, value) {
        // when image is clicked
        $(this).on('click', function() {
          // get variable name of target element
          var i = index + 1;
          var name = '#back' + i;
          $(name).slideDown('slow');  //display

          // hide
          $(name).on('click', function() {
              $(this).slideUp('slow');
          });
        });
      }); 


      // mouseover
      for (var i = 0; i < images.length; i++) {
          images[i].addEventListener('mouseover', color.bind(this, i));
      }

      // mouseout
      for (var i = 0; i < images.length; i++) {
          images[i].addEventListener('mouseout', color.bind(this, i));
      }
    </script>
    
  </body>
</html>